
query prQuery($name_repo :String!) {
   repository(owner: "ALmogZinger", name: $name_repo) {
   pullRequests{
        nodes{
            comments{
                nodes{
                    author{
                        avatarUrl
                    }
                    body
                }
                pageInfo{
                    hasNextPage
                    endCursor
                }
            }
        }
    }
  }
}

query repoQuery($name_repo : String!) 
{
    repository(owner: "AlmogZinger" , name: $name_repo)
    {
        pullRequests(first: 1 )
        {
            nodes{
                comments{
                    nodes{
                        author{
                            avatarUrl
                        }
                        bodyText
                    }
                }
            }
        }
    }
}
query allPullRequests($name_repo: String!) {
  repository(owner: "AlmogZinger", name: $name_repo) {
    pullRequests(first: 100) { 
      nodes {
        number
        title
        comments(first: 100) { 
          nodes {
            author {
              login
            }
            bodyText
          }
        }
      }
    }
  }
}

#nir query- 
query nirprQuery($prNumber: Int!) {
  repository(owner: "AlmogZinger", name: "S") {
    pullRequest(number: $prNumber) {
      id
      title
      number
      state
      ...prMessage

      comments(first: 10) {
        edges {
          node {
            ...prMessage
          }
          cursor
        }
      }
    }
  }
}


fragment prMessage on Comment {
  body
  createdAt
  author {
    avatarUrl
    login
  }
}